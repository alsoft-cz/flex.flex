----------------------------------------------------------------------------------------------------
module public ci_rtl =
-- P©eklada‡ Flexu.
-- Vazba na run-time knihovnu.
----------------------------------------------------------------------------------------------------
-- Ondra : 11.04.2002 : Vytvo©il
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
procedure i_create_xframe (
    inst           : in out icodeinst;           -- instance
    info           : in out igeninfo;            -- informace o pr–bˆhu generov n¡
    framehandler   : out timm32;                 -- adresa polo‘ky HANDLER
    target         : in itarget);                -- po‡ te‡n¡ obsluha
-- Vytvo©¡ exception-frame.
----------------------------------------------------------------------------------------------------
procedure i_set_handler (
    inst           : in out icodeinst;           -- instance
    info           : in out igeninfo;            -- informace o pr–bˆhu generov n¡
    framehandler   : in timm32;                  -- adresa polo‘ky HANDLER
    target         : in itarget);                -- obsluha
-- Do aktu ln¡ho exception-frame p©i©ad¡ adresu exception-handleru.
----------------------------------------------------------------------------------------------------
procedure i_dispatch_special (
    inst           : in out icodeinst;           -- instance
    info           : in out igeninfo;            -- informace o pr–bˆhu generov n¡
    context        : in out iexprcontext;        -- kontext generov n¡ v˜razu
    spectype       : in tspectype);              -- typ speci ln¡ metody
-- Vol n¡ speci ln¡ metody. Na stacku o‡ek v  adresu instance.
----------------------------------------------------------------------------------------------------
procedure i_create_rcframe (
    inst           : in out icodeinst;           -- instance
    info           : in out igeninfo);           -- informace o pr–bˆhu generov n¡
  --save_rcframe   : out timm32);                -- adresa p–vodn¡ho RC framu
-- Vyvo©¡ return-control frame.
-- Z INFO ulo‘¡ do SAVE_RCFRAME vr t¡ adresu nad©azen‚ho return-control
-- framu, kter  je pot©eba v I_PROCESS_RCFRAME.
----------------------------------------------------------------------------------------------------
procedure i_set_rcframe_action (
    inst           : in out icodeinst;           -- instance
    info           : in out igeninfo;            -- informace o pr–bˆhu generov n¡
    action         : in t_unsigned;              -- k¢d akce (hloubka vno©en¡)
    target         : in itarget);                -- c¡lov‚ n vˆ¨t¡
-- Do return-control framu dopln¡ £daje o po‘adovan‚ akci.
----------------------------------------------------------------------------------------------------
procedure i_process_rcframe (
    inst           : in out icodeinst;           -- instance
    info           : in out igeninfo;            -- informace o pr–bˆhu generov n¡
  --save_rcframe   : in timm32;                  -- adresa p–vodn¡ho RC framu
    upper_end      : in itarget);                -- n. pro skok na konec nad©az.bloku
-- Vygeneruje k¢d pro proveden¡ p©¡kazu ulo‘en‚ho v return-control framu.
-- V INFO obnov¡ adresu return-control framu na hodnotu danou SAVE_RCFRAME.
----------------------------------------------------------------------------------------------------

end ci_rtl;