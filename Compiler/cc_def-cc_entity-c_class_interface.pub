----------------------------------------------------------------------------------------------------
class public c_class_interface = 
-- Interface t©¡dy.
----------------------------------------------------------------------------------------------------

use
  cc_ref;

extend 
  c_list_item;

var
  refclass         : cc_ref.refentity;           -- odkaz na t©¡du
  vtable           : pvirtualtable;              -- virtu ln¡ tabulka
  instance         : cc_ref.refentity;           -- instance interfacu
  codegen          : p_flex_record;              -- dopl¤uj¡c¡ informace gener toru k¢du
  is_exposed       : protected t_logical;        -- p©¡znak, zda je toto exposovan˜ interface

----------------------------------------------------------------------------------------------------
static init (
    pexpr          : in p_flex_class;            -- v˜raz obsahuj¡c¡ jm‚no t©¡dy
    pclass         : in pentity_type);           -- t©¡da reprezentuj¡c¡ interface.
-- Inicializuje interface t©¡dy na zadanou t©¡du [pexpr]/[pclass].
----------------------------------------------------------------------------------------------------
static add_virtual_method (
    pvirtual       : in pentity_virtual);        -- p©id van  virtu ln¡ metoda
-- P©id  do interfacu novou virtu ln¡ metodu a p©idˆl¡ j¡ index v tabulce virtu ln¡ metod.
----------------------------------------------------------------------------------------------------
static get_virtual_method (
    vindex         : in tvirtualindex)           -- index virtu ln¡ metody
    return pentity_code;
-- Nejbli‘¨¡ (vzhledem k p©edk–m) virtu ln¡ metodu nebo jej¡ override odpov¡daj¡c¡ zadan‚mu indexu.
----------------------------------------------------------------------------------------------------
static is_virtual_method_overriden (
    pvirtual       : in pentity_virtual)         -- souvisej¡c¡ virtu ln¡ metoda
    return t_logical;                            -- T-ji‘ byla p©et¡‘ena
-- Zjist¡, zda byla zadan  virtu ln¡ metoda v t‚to t©¡dˆ ji‘ p©et¡‘ena.
-- Je-li v t‚to t©¡dˆ p©¡mo deklarov na, se ch pe jako p©et¡‘en¡.
----------------------------------------------------------------------------------------------------
static override_virtual_method (
    pvirtual       : in pentity_virtual;         -- souvisej¡c¡ virtu ln¡ metoda
    poverride      : in pentity_override);       -- p©et¡‘en¡ virtu ln¡ metody
-- P©et¡‘¡ v interfacu zadanou virtu ln¡ metodu.
-- Pokud ji‘ byla jednou p©et¡‘ena, zp–sob¡ chybu.
----------------------------------------------------------------------------------------------------
static get_vtable_size return t_unsigned;
-- Vr t¡ velikost virtu ln¡ tabulky jako po‡et jej¡ch prvk–.
-- Pokud nen¡ virtu ln¡ tabulka v tomto interfacu alokov na, zept  se p©edka.
----------------------------------------------------------------------------------------------------
procedure normalize_vindex (
    vindex         : in tvirtualindex)           -- logick˜ index virtu ln¡ metody (zpravidla od 1)
    return t_unsigned;                           -- normalizovan˜ index virtu ln¡ metody od 0
-- Normalizuje logick˜ index virtu ln¡ metody od nuly.
----------------------------------------------------------------------------------------------------

end c_class_interface;