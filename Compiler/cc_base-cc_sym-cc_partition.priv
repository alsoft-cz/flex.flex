----------------------------------------------------------------------------------------------------
module private cc_partition =
-- Překladač Flexu.
-- Podpora pro práci s více partitionami.
----------------------------------------------------------------------------------------------------
-- Ondra : 12.04.2004 : Vytvořil
----------------------------------------------------------------------------------------------------

with
  cc_def.cc_var;

----------------------------------------------------------------------------------------------------
procedure part_register_partition =
-- Zaregistruje partition do globálního seznamu partition (pokud se jedná o k tomu vhodný typ 
-- partition).
----------------------------------------------------------------------------------------------------
begin
  -- partition (s výjimkou dočasné partition) zařadit na seznam dostupných partition
  if compi^.part_type<>part_temporary then
    global_partitions.add(compi);
    end if;
  end part_register_partition;
  
  
  
----------------------------------------------------------------------------------------------------
procedure part_with_partitions =
-- Do partition WITHne již existující globální partition.
----------------------------------------------------------------------------------------------------
with
  cc_base.cc_sym.cc_advanced;

begin
  -- WITHnout všechny dosud přeložené globální partition
  if global_partitions.list<>nil then
    for i in global_partitions.list^:range loop
      sym_add_with(compi_context,nil,global_partitions.list^[i],twm_with,twl_normal,true);
      end loop;
    end if;
  end part_with_partitions;

end cc_partition;