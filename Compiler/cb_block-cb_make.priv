----------------------------------------------------------------------------------------------------
module private cb_make =
-- P©eklada‡ Flexu.
-- Vytv ©en¡ kompil torem generovan˜ch uzl– stromu.
----------------------------------------------------------------------------------------------------
-- Ondra : 12.10.2001 : Vytvo©il
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
procedure b_make_list =
-- Vlo‘¡ p©¡kaz BL na za‡ tek NEXT.
----------------------------------------------------------------------------------------------------
begin
  result:=next;
  if result.first<>nil
    then bl^.next:=result.first;
    else result.last:=bl;
    end if;
  result.first:=bl;
  end b_make_list;



----------------------------------------------------------------------------------------------------
procedure b_make_cmd =
-- P©i©azovac¡ p©¡kaz nebo vol n¡ procedury.
----------------------------------------------------------------------------------------------------
begin
  -- alokovat uzel
  newnode(pblnode(result),info,bt_cmd);

  -- ulo‘it v˜raz
  result^.expr:=expr;
  end b_make_cmd;



----------------------------------------------------------------------------------------------------
procedure b_make_if =
-- P©¡kaz IF.
----------------------------------------------------------------------------------------------------
begin
  -- alokovat uzel
  newnode(pblnode(result),info,bt_if);

  -- ulo‘it seznam vˆtv¡
  result^.sub:=list;
  end b_make_if;



----------------------------------------------------------------------------------------------------
procedure b_make_if_cond =
-- Jedna vˆtev IF.
----------------------------------------------------------------------------------------------------
begin
  -- alokovat uzel
  newnode(pblnode(result),info,bt_if_cond);

  -- ulo‘it podm¡nku
  result^.cond:=cond;

  -- ulo‘it seznam p©¡kaz– v t‚to vˆtvi
  result^.sub:=list;
  end b_make_if_cond;



----------------------------------------------------------------------------------------------------
procedure b_make_block =
-- Pr zdn˜ blok p©¡kaz–.
----------------------------------------------------------------------------------------------------
begin
  -- alokovat uzel
  newnode(pblnode(result),info,bt_block);
  end b_make_block;



----------------------------------------------------------------------------------------------------
procedure b_make_for =
-- FOR cyklus.
----------------------------------------------------------------------------------------------------
begin
  -- alokovat uzel
  newnode(pblnode(result),info,bt_for);

  -- doplnit £daje
  result^.for_var:=for_var;
  result^.for_region:=for_region;
  result^.order:=order;
  result^.xrange:=xrange;
  end b_make_for;



----------------------------------------------------------------------------------------------------
procedure b_make_raise =
-- P©¡kaz RAISE.
----------------------------------------------------------------------------------------------------
begin
  -- alokovat uzel
  newnode(pblnode(result),info,bt_raise);

  -- doplnit £daje
  result^.msg:=msg;
  end b_make_raise;



end cb_make;
