----------------------------------------------------------------------------------------------------
module public cb_choice =
-- P©eklada‡ Flexu.
-- Optimalizovan˜ seznam v˜bˆr–.
----------------------------------------------------------------------------------------------------
-- Ondra : 25.09.2001 : Vytvo©il
----------------------------------------------------------------------------------------------------

type
  -- tabulka optimalizovan˜ch v˜bˆr–
  tchoicetable     = string of record
      lval         : tuniint;                    -- doln¡ mez
      hval         : tuniint;                    -- horn¡ mez
      end record;

  -- seznam optimalizovan˜ch v˜bˆr–
  tchoicelist      = record
      list         : ^tchoicetable;              -- seznam v˜raz–
    --lcount       : t_unsigned;                 -- po‡et v˜raz–
    --lsize        : t_unsigned;                 -- alokovan  pamˆŸ
      end record;    

----------------------------------------------------------------------------------------------------
procedure choice_extend (    
    clist          : in out tchoicelist;         -- seznam v˜bˆr–
    count          : in t_unsigned);             -- po‡et p©id van˜ch polo‘ek
-- Roz¨¡©¡ CLIST o COUNT polo‘ek (pokud je to pot©eba).
----------------------------------------------------------------------------------------------------
procedure choice_add_single (
    context        : in tcontext;                -- aktu ln¡ kontext
    clist          : in out tchoicelist;         -- seznam v˜bˆr–
    ui             : in tuniint;                 -- vkl dan  hodnota
    choice         : in pexpnode);               -- souvisej¡c¡ v˜bˆr
-- Vlo‘¡ do seznamu optimalizovan˜ch v˜bˆr– jednu hodnotu.
-- Pokud je v˜bˆr duplicitn¡, ohl s¡ varov n¡.
-- %%X P©edˆlat: Ulo‘it na seznam duplicitn¡ch v˜bˆr–.
----------------------------------------------------------------------------------------------------
procedure choice_add_range (
    clist          : in out tchoicelist;         -- seznam v˜bˆr–
    lval           : in tuniint;                 -- doln¡ mez
    hval           : in tuniint;                 -- horn¡ mez
    choice         : in pexpnode);               -- souvisej¡c¡ v˜bˆr
-- Vlo‘¡ do seznamu optimalizovan˜ch v˜bˆr– rozsah hodnot.
----------------------------------------------------------------------------------------------------

end cb_choice;
