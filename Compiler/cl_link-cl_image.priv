----------------------------------------------------------------------------------------------------
module private cl_image =
-- P©eklada‡ Flexu.
-- Gener tor v˜stupn¡ch soubor–.
----------------------------------------------------------------------------------------------------
-- Ondra : 12.04.2002 : Vytvo©il
----------------------------------------------------------------------------------------------------

with
  standard.streams,
  standard.numerics;

----------------------------------------------------------------------------------------------------
procedure falign (
    os             : in p_output_stream;
    align          : in t_unsigned) =
-- Zarov n¡ velikosti v˜stupn¡ho souboru na hranici [align].
----------------------------------------------------------------------------------------------------
var
  -- v˜pl¤: nuly 
  fill_zeros       : static const array t_unsigned8 of t_unsigned8 := nil;

var
  i                : t_unsigned;
  j                : t_unsigned;

begin
  i:=((os^.get_output_written+align-1) div align)*align-os^.get_output_written;
  while i>0 loop
    j:=min_unsigned(i,fill_zeros:size);
    os^.writex(fill_zeros,j);
    i-j;
    end loop
  end falign;



----------------------------------------------------------------------------------------------------
class private abstract linkimage =
-- Image creator.
----------------------------------------------------------------------------------------------------

    ------------------------------------------------------------------------------------------------
    static init =
    -- P©i©ad¡ jm‚no v˜stupn¡ho souboru.
    ------------------------------------------------------------------------------------------------
    begin
      f.init_text_name(name);
      end init;



    ------------------------------------------------------------------------------------------------
    virtual create =
    -- Vytvo©¡ image na z kladˆ seznamu vyhodnocen˜ch prvk–.
    ------------------------------------------------------------------------------------------------
    begin
      end create;



    ------------------------------------------------------------------------------------------------
    virtual info =
    -- V˜pis souhrnn˜ch informac¡ do listingu.
    ------------------------------------------------------------------------------------------------
    begin
      end info;

    end linkimage;



----------------------------------------------------------------------------------------------------
#separate private cl_pe;
-- Protable Executable.
----------------------------------------------------------------------------------------------------

end cl_image;