----------------------------------------------------------------------------------------------------
module public ci_stack =
-- Překladač Flexu.
-- Správa stacku.
----------------------------------------------------------------------------------------------------
-- Ondra : 05.04.2002 : Vytvořil
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
procedure setvaraddr (
    inst           : in out icodeinst;           -- instance
    info           : in igeninfo;                -- informace o průběhu generování
    pvar           : in pentity_var;             -- proměnná
    addr           : out timm32);                -- adresa proměnné
-- Nalezne pro proměnnou vhodné umístění na stacku.
----------------------------------------------------------------------------------------------------
procedure getvaraddr (
    inst           : in out icodeinst;           -- instance
    info           : in igeninfo;                -- informace o průběhu generování
    pvar           : in pentity_var;             -- proměnná
    addr           : out timm32);                -- adresa proměnné
-- Vrátí adresu proměnné (v případě potřeby alokuje prostor na stacku)
----------------------------------------------------------------------------------------------------
procedure checkvaraddr (
    inst           : in out icodeinst;           -- instance
    pvar           : in pentity_var;             -- proměnná
    avail          : out t_logical;              -- T-adresa je k dispozici
    addr           : out tunidata_addr;          -- adresa proměnné
    size           : out tunidata_size);         -- velikost proměnné
-- Vrátí adresu a velikost proměnné (je-li k dispozici, pak AVAIL=True).
----------------------------------------------------------------------------------------------------
procedure alloctemp (
    inst           : in out icodeinst;           -- instance
    info           : in igeninfo;                -- informace o průběhu generování
    size           : in t_unsigned32;            -- požadovaná velikost bloku
    addr           : out timm32);                -- adresa proměnné
-- Alokuje dočasný blok paměti na stacku.
----------------------------------------------------------------------------------------------------
procedure freetemp (
    inst           : in out icodeinst;           -- instance
    info           : in igeninfo;                -- informace o průběhu generování
    addr           : in timm32);                 -- adresa proměnné
-- Uvolní dočasný blok paměti.
----------------------------------------------------------------------------------------------------

end ci_stack;
