----------------------------------------------------------------------------------------------------
module public ci_stack =
-- P©eklada‡ Flexu.
-- Spr va stacku.
----------------------------------------------------------------------------------------------------
-- Ondra : 05.04.2002 : Vytvo©il
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
procedure setvaraddr (
    inst           : in out icodeinst;           -- instance
    info           : in igeninfo;                -- informace o pr–bˆhu generov n¡
    pvar           : in pentity_var;             -- promˆnn 
    addr           : out timm32);                -- adresa promˆnn‚
-- Nalezne pro promˆnnou vhodn‚ um¡stˆn¡ na stacku.
----------------------------------------------------------------------------------------------------
procedure getvaraddr (
    inst           : in out icodeinst;           -- instance
    info           : in igeninfo;                -- informace o pr–bˆhu generov n¡
    pvar           : in pentity_var;             -- promˆnn 
    addr           : out timm32);                -- adresa promˆnn‚
-- Vr t¡ adresu promˆnn‚ (v p©¡padˆ pot©eby alokuje prostor na stacku)
----------------------------------------------------------------------------------------------------
procedure checkvaraddr (
    inst           : in out icodeinst;           -- instance
    pvar           : in pentity_var;             -- promˆnn 
    avail          : out t_logical;              -- T-adresa je k dispozici
    addr           : out tunidata_addr;          -- adresa promˆnn‚
    size           : out tunidata_size);         -- velikost promˆnn‚
-- Vr t¡ adresu a velikost promˆnn‚ (je-li k dispozici, pak AVAIL=True).
----------------------------------------------------------------------------------------------------
procedure alloctemp (
    inst           : in out icodeinst;           -- instance
    info           : in igeninfo;                -- informace o pr–bˆhu generov n¡
    size           : in t_unsigned32;            -- po‘adovan  velikost bloku
    addr           : out timm32);                -- adresa promˆnn‚
-- Alokuje do‡asn˜ blok pamˆti na stacku.
----------------------------------------------------------------------------------------------------
procedure freetemp (
    inst           : in out icodeinst;           -- instance
    info           : in igeninfo;                -- informace o pr–bˆhu generov n¡
    addr           : in timm32);                 -- adresa promˆnn‚
-- Uvoln¡ do‡asn˜ blok pamˆti.
----------------------------------------------------------------------------------------------------

end ci_stack;
