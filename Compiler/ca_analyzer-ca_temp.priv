----------------------------------------------------------------------------------------------------
module private ca_temp =
-- P©eklada‡.
-- Pracovn¡ entity p©eklada‡e vznikl‚ bˆhem glob ln¡ anal˜zy.
----------------------------------------------------------------------------------------------------
-- Ondra : 28.02.2002 : Vytvo©il.
----------------------------------------------------------------------------------------------------

with
  cc_def.cc_lexsym,cc_base,cc_base.cc_sym,
  cd_decl,cd_decl.cd_create;

----------------------------------------------------------------------------------------------------
procedure a_create_temp_var =
-- Zalo‘¡ pracovn¡ promˆnnou zadan‚ho typu.
----------------------------------------------------------------------------------------------------
var
  pvar_context     : tcontext;                   -- kontext pracovn¡ promˆnn‚

begin
  -- vytvo©it
  d_create_internal(curr,pentity(pvar),pvar_context,et_var,sym_get_temp_id);

  -- typ promˆnn‚
  pvar^.typ.settype(ptyp);

  -- pamˆŸov  t©¡da
  if curr.entity^.etype=et_program
    then pvar^.mclass:=mc_static;
    else pvar^.mclass:=mc_auto;
    end if;

  -- konec deklarace
  d_end_internal(pvar^,true);
  end a_create_temp_var;



end ca_temp;
