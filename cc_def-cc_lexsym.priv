----------------------------------------------------------------------------------------------------
module private {cc_def.}cc_lexsym =
-- P©eklada‡ Flexu.
-- Definice lexi ln¡ch symbol–.
----------------------------------------------------------------------------------------------------
-- Ondra : 26.04.2000 : Vytvo©il
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
procedure lexcharstr_to_string =
-- P©evod textov‚ reprezentace lexik ln¡ho elementu na ©etˆzec.
----------------------------------------------------------------------------------------------------
var
  i                : s:range:type;

begin
  for i in s:range loop
    result & t_char32(s[i]);
    end loop; 
  end lexcharstr_to_string;



----------------------------------------------------------------------------------------------------
procedure lexposblock_to_string =
-- P©evod pozice bloku lexik ln¡ch element– na ©etˆzec.
----------------------------------------------------------------------------------------------------
with
  standard.strings,
  standard.conversions;

begin
  if align
    
    -- se zarovnan˜mi ‡¡sly
    then
      -- prvn¡ pozice --
      result:=str_adjust(unsigned_to_string(pos.b.line),5,[se_left]," ",st_no,[]) & ":" 
            & str_adjust(unsigned_to_string(pos.b.col) ,3,[se_left]," ",st_no,[]);

      -- druh  pozice (rozsah) --
      if pos.b<>pos.e then
        result & '..' & str_adjust(unsigned_to_string(pos.e.line),5,[se_left]," ",st_no,[]) & ":" 
                      & str_adjust(unsigned_to_string(pos.e.col) ,3,[se_left]," ",st_no,[]);
        end if;

    -- bez zarovn n¡
    else
      -- prvn¡ pozice --
      result:=unsigned_to_string(pos.b.line) & ":" & unsigned_to_string(pos.b.col);

      -- druh  pozice (rozsah) --
      if pos.b<>pos.e then
        result & '..' & unsigned_to_string(pos.e.line) & ":" & unsigned_to_string(pos.e.col);
        end if;
      end if;
  end lexposblock_to_string;



----------------------------------------------------------------------------------------------------
entry =
----------------------------------------------------------------------------------------------------
with
  advanced,
  advanced.low_level,
  advanced.low_level.bit_operations;

var
  i            : lexkeywords:range;

begin
  for i in lexkeywords:range loop
    {%%TODO(UNION) lex_keywords+lexsymset:[lexkeywords[i].lex];}
    bit_set(lex_keywords,t_bit_index(lexkeywords[i].lex:ord));
    end loop;
  end entry;

end cc_lexsym;