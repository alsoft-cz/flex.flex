***

----------------------------------------------------------------------------------------------------
class private cc_filelist =
-- P©eklada‡ Flexu.
-- Seznam jmen soubor–.
----------------------------------------------------------------------------------------------------
-- Ondra : 12.11.2001 : Vytvo©il
----------------------------------------------------------------------------------------------------

with
  standard,
  standard.classes,
  standard.classes.lists;

----------------------------------------------------------------------------------------------------
class c_search_path_item = extend c_list_item;
-- Jedna vyhled vac¡ cesta
----------------------------------------------------------------------------------------------------
    
    var
      dir          : protected p_file_name;      -- jm‚no adres ©e
      ext          : protected p_file_name;      -- extenze
      path_type    : protected t_path_type;      -- typ cesty

    ------------------------------------------------------------------------------------------------
    static init (
        dir        : t_file_name;                -- jm‚no adres ©e
        ext        : t_file_name;                -- extenze
        path_type  : t_path_type) =              -- typ cesty
    -- Inicializuje vyhled vac¡ cestu.
    ------------------------------------------------------------------------------------------------
    begin
      new this.dir range dir:length; this.dir^:=dir;
      new this.ext range ext:length; this.ext^:=ext;
      this.path_type:=path_type;
      end init;



    ------------------------------------------------------------------------------------------------
    static build_search_path =
    -- Sestav¡ seznam soubor– pro vyhled vac¡ cestu.
    ------------------------------------------------------------------------------------------------
    begin
      end build_search_path;
  
    end c_search_path_item;

type
  p_search_path_item = ^class c_search_path_item;

var
  -- seznam vyhled vac¡ch cest
  search_path_list : c_list;

----------------------------------------------------------------------------------------------------
static add_search_path =
-- P©id  do seznamu jednu vyhled vac¡ cestu.
----------------------------------------------------------------------------------------------------
var
  search_path      : p_search_path_item;

begin
  -- %%X zkontrolovat, jestli u‘ nen¡ na seznamu
  -- %%TODO(LIB) pou‘¡t list_new_last

  -- vytvo©it novou vyhled vac¡ cestu
  new search_path;

  -- doplnit £daje
  search_path^.init(dir,ext,path_type);

  -- za©adit do seznamu
  search_path_list.insert(search_path);
  end add_search_path;

    

----------------------------------------------------------------------------------------------------
static build_file_list =
-- Podle d©¡ve zadan˜ch vyhled vac¡ch cest sestav¡ seznam soubor–.
----------------------------------------------------------------------------------------------------
var
  iterator         : c_list_iterator;
  search_path      : p_search_path_item;

begin
  -- zpracovat v¨echny vyhled vac¡ cesty a sestavit seznamy soubor–
  iterator.init(search_path_list,tlwd_forward);
  while iterator.get(search_path) loop
    search_path^.build_search_path;
    end loop;
  end build_file_list;



----------------------------------------------------------------------------------------------------
static get_source_file_name =
-- Podle zadan˜ch £daj– nalezne pln‚ jm‚no souboru.
----------------------------------------------------------------------------------------------------
begin
  end get_source_file_name;


{
  standard.structures,
  standard.structures.lists;

type
  -- jedna vyhled vac¡ cesta
  t_search_path_item = t_list_item with record
      dir          : p_file_name;                -- jm‚no adres ©e
      ext          : p_file_name;                -- extenze
      path_type    : t_path_type;                -- 
      end record;
  p_search_path_item = ^class t_search_path_item;

var
  -- seznam vyhled vac¡ch cest
  search_path_list : t_list;

----------------------------------------------------------------------------------------------------
static add_search_path =
-- P©id  do seznamu jednu vyhled vac¡ cestu.
----------------------------------------------------------------------------------------------------
var
  search_path      : p_search_path_item;

begin
  -- %%X zkontrolovat, jestli u‘ nen¡ na seznamu
  -- %%TODO(LIB) pou‘¡t list_new_last

  -- vytvo©it novou vyhled vac¡ cestu
  new search_path;

  -- doplnit £daje
  new search_path^.dir range dir:length; search_path^.dir^:=dir;
  new search_path^.ext range ext:length; search_path^.ext^:=ext;
  search_path^.path_type:=path_type;

  -- za©adit do seznamu
  list_insert_last(search_path_list,search_path);
  end add_search_path;



----------------------------------------------------------------------------------------------------
static build_search_path (
    search_path    : in t_search_path_item) =    -- vyhled vac¡ cesta
-- Sestav¡ seznam soubor– pro jednu vyhled vac¡ cestu.
----------------------------------------------------------------------------------------------------
var
  search           : c_search_file;              -- hled tko na soubory

begin
  --search.
  end build_search_path;



----------------------------------------------------------------------------------------------------
static build_file_list =
-- Podle d©¡ve zadan˜ch vyhled vac¡ch cest sestav¡ seznam soubor–.
----------------------------------------------------------------------------------------------------
var
  iterator         : t_list_iterator;
  search_path      : p_search_path_item;

begin
  -- zpracovat v¨echny vyhled vac¡ cesty a sestavit seznamy soubor–
  list_iterator_init(iterator,^search_path_list,tlwd_forward);
  while list_iterator_get(iterator,search_path) loop
    build_search_path(search_path^);
    end loop;
  end build_file_list;



----------------------------------------------------------------------------------------------------
static get_source_file_name =
-- Podle zadan˜ch £daj– nalezne pln‚ jm‚no souboru.
----------------------------------------------------------------------------------------------------
begin
  end get_source_file_name;
}


end cc_filelist;